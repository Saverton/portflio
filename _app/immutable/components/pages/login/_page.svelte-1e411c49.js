import{S as U,i as q,s as H,k as m,q as P,a as y,l as f,m as L,r as k,h as v,c as E,n as l,b as M,H as a,a1 as S,V as j,C as z,W as D,x as J,y as V,z as W,f as x,t as G,A as K}from"../../../chunks/index-7788fb22.js";import{a as Q}from"../../../chunks/stores-922b8469.js";import{j as $}from"../../../chunks/singletons-0a5a1ac9.js";import{b as X}from"../../../chunks/paths-25604c51.js";$.disable_scroll_handling;const Y=$.goto;$.invalidate;$.invalidateAll;$.preload_data;$.preload_code;$.before_navigate;$.after_navigate;function Z(_){let e,n,h,p,t,g,b,c,i,o,r,u,A,T,B,w,N,O,C;return{c(){e=m("form"),n=m("label"),h=P("Email"),p=y(),t=m("input"),g=y(),b=m("br"),c=y(),i=m("label"),o=P("Password"),r=y(),u=m("input"),A=y(),T=m("br"),B=y(),w=m("button"),N=P("Login"),this.h()},l(d){e=f(d,"FORM",{});var s=L(e);n=f(s,"LABEL",{for:!0,class:!0});var F=L(n);h=k(F,"Email"),F.forEach(v),p=E(s),t=f(s,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),g=E(s),b=f(s,"BR",{}),c=E(s),i=f(s,"LABEL",{for:!0,class:!0});var I=L(i);o=k(I,"Password"),I.forEach(v),r=E(s),u=f(s,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),A=E(s),T=f(s,"BR",{}),B=E(s),w=f(s,"BUTTON",{type:!0,class:!0});var R=L(w);N=k(R,"Login"),R.forEach(v),s.forEach(v),this.h()},h(){l(n,"for","email"),l(n,"class","svelte-5nklbs"),l(t,"type","email"),l(t,"id","email"),l(t,"placeholder","email"),l(t,"class","svelte-5nklbs"),l(i,"for","password"),l(i,"class","svelte-5nklbs"),l(u,"type","password"),l(u,"id","password"),l(u,"placeholder","password"),l(u,"class","svelte-5nklbs"),l(w,"type","submit"),l(w,"class","svelte-5nklbs")},m(d,s){M(d,e,s),a(e,n),a(n,h),a(e,p),a(e,t),S(t,_[0]),a(e,g),a(e,b),a(e,c),a(e,i),a(i,o),a(e,r),a(e,u),S(u,_[1]),a(e,A),a(e,T),a(e,B),a(e,w),a(w,N),O||(C=[j(t,"input",_[3]),j(u,"input",_[4]),j(e,"submit",_[2])],O=!0)},p(d,[s]){s&1&&t.value!==d[0]&&S(t,d[0]),s&2&&u.value!==d[1]&&S(u,d[1])},i:z,o:z,d(d){d&&v(e),O=!1,D(C)}}}function ee(_,e,n){const{login:h}=Q;let p="",t="";async function g(i){i.preventDefault();const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:t})},r=await fetch("/api/login",o);r.ok?(console.log("login successful"),h(await r.json()),Y(X,{replaceState:!0})):console.error("login failed")}function b(){p=this.value,n(0,p)}function c(){t=this.value,n(1,t)}return[p,t,g,b,c]}class te extends U{constructor(e){super(),q(this,e,ee,Z,H,{})}}function ae(_){let e,n,h,p,t,g,b,c,i;return c=new te({}),{c(){e=m("main"),n=m("h1"),h=P("Admin Login Page"),p=y(),t=m("a"),g=P("return to home"),b=y(),J(c.$$.fragment),this.h()},l(o){e=f(o,"MAIN",{class:!0});var r=L(e);n=f(r,"H1",{});var u=L(n);h=k(u,"Admin Login Page"),u.forEach(v),p=E(r),t=f(r,"A",{href:!0,class:!0});var A=L(t);g=k(A,"return to home"),A.forEach(v),b=E(r),V(c.$$.fragment,r),r.forEach(v),this.h()},h(){l(t,"href","/"),l(t,"class","svelte-1mnz6o7"),l(e,"class","svelte-1mnz6o7")},m(o,r){M(o,e,r),a(e,n),a(n,h),a(e,p),a(e,t),a(t,g),a(e,b),W(c,e,null),i=!0},p:z,i(o){i||(x(c.$$.fragment,o),i=!0)},o(o){G(c.$$.fragment,o),i=!1},d(o){o&&v(e),K(c)}}}class re extends U{constructor(e){super(),q(this,e,null,ae,H,{})}}export{re as default};
